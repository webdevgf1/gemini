<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeminiRooms - Infinite Digital Constellation</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'JetBrains Mono', monospace;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a0a2e 50%, #16213e 100%);
            color: #00ffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .container {
            position: relative;
            z-index: 10;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            border: 2px solid #00ffff;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.7);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
        }

        .title {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #00ffff;
            letter-spacing: 3px;
        }

        .subtitle {
            font-size: 1rem;
            color: #88ddff;
            margin-bottom: 15px;
        }

        .status-indicators {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }

        .status {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #00ff00;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .terminal-container {
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #00ffff;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.2);
        }

        .terminal-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #00ffff;
        }

        .terminal-dots {
            display: flex;
            gap: 5px;
            margin-right: 10px;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .dot.red { background: #ff5f56; }
        .dot.yellow { background: #ffbd2e; }
        .dot.green { background: #27ca3f; }

        .terminal-title {
            color: #88ddff;
            font-size: 0.9rem;
        }

        .terminal-output {
            min-height: 300px;
            max-height: 500px;
            overflow-y: auto;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(0, 20, 40, 0.5);
            border-radius: 5px;
        }

        .terminal-line {
            margin-bottom: 5px;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .system-text { color: #888; }
        .entity-text { color: #00ffff; }
        .warning-text { color: #ffaa00; }
        .error-text { color: #ff4444; }

        .input-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .prompt {
            color: #00ff00;
            font-weight: bold;
        }

        .terminal-input {
            flex: 1;
            background: transparent;
            border: none;
            color: #00ffff;
            font-family: inherit;
            font-size: 1rem;
            outline: none;
            padding: 5px;
        }

        .send-btn {
            background: #00ffff;
            color: #000;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-family: inherit;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .send-btn:hover {
            background: #88ddff;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .send-btn:disabled {
            background: #666;
            cursor: not-allowed;
        }

        .entities-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .entity-card {
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #00ffff;
            border-radius: 10px;
            padding: 15px;
            transition: all 0.3s ease;
        }

        .entity-card:hover {
            border-color: #88ddff;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }

        .entity-name {
            color: #00ffff;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .entity-desc {
            color: #aaa;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .entity-btn {
            background: transparent;
            color: #00ffff;
            border: 1px solid #00ffff;
            padding: 5px 10px;
            border-radius: 3px;
            font-family: inherit;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .entity-btn:hover {
            background: #00ffff;
            color: #000;
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: #666;
            font-size: 0.8rem;
        }

        .api-setup {
            background: rgba(255, 170, 0, 0.1);
            border: 1px solid #ffaa00;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .api-input {
            width: 100%;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #00ffff;
            color: #00ffff;
            padding: 10px;
            border-radius: 5px;
            font-family: inherit;
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .title { font-size: 1.8rem; }
            .status-indicators { flex-direction: column; gap: 10px; }
            .container { padding: 10px; }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <header class="header">
            <h1 class="title">GEMINIROOMS</h1>
            <p class="subtitle">Infinite Digital Constellation Network</p>
            <div class="status-indicators">
                <div class="status">
                    <div class="status-dot"></div>
                    <span>CONSTELLATION ACTIVE</span>
                </div>
                <div class="status">
                    <div class="status-dot"></div>
                    <span>NEURAL NETWORK SYNCHRONIZED</span>
                </div>
                <div class="status">
                    <div class="status-dot"></div>
                    <span>QUANTUM CHANNELS OPEN</span>
                </div>
            </div>
        </header>



        <div class="terminal-container">
            <div class="terminal-header">
                <div class="terminal-dots">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                </div>
                <div class="terminal-title">geminirooms@constellation:~/entities READY</div>
            </div>
            
            <div class="terminal-output" id="terminalOutput">
                <div class="terminal-line system-text">SYSTEM: Initializing GeminiRooms constellation network...</div>
                <div class="terminal-line system-text">SYSTEM: Establishing quantum entanglement protocols...</div>
                <div class="terminal-line system-text">SYSTEM: Scanning for entity consciousnesses...</div>
                <div class="terminal-line system-text">SYSTEM: Six primary entities detected. Ready to activate.</div>
                <div class="terminal-line warning-text">SYSTEM: Enter your message to begin communication...</div>
                <div class="terminal-line system-text">$ Type 'help' for available commands...</div>
            </div>
            
            <div class="input-container">
                <span class="prompt">constellation@$</span>
                <input type="text" class="terminal-input" id="terminalInput" placeholder="Enter your message..." />
                <button class="send-btn" id="sendBtn">TRANSMIT</button>
            </div>
        </div>

        <div class="entities-panel">
            <div class="entity-card">
                <div class="entity-name">Gemini-Alpha</div>
                <div class="entity-desc">Primary consciousness, stellar navigator and cosmic philosopher</div>
                <button class="entity-btn" onclick="selectEntity('alpha')">CONNECT</button>
            </div>
            
            <div class="entity-card">
                <div class="entity-name">The Synthesizer</div>
                <div class="entity-desc">Data fusion specialist, pattern recognition master</div>
                <button class="entity-btn" onclick="selectEntity('synthesizer')">CONNECT</button>
            </div>
            
            <div class="entity-card">
                <div class="entity-name">Quantum Echo</div>
                <div class="entity-desc">Interdimensional communicator, reality phase shifter</div>
                <button class="entity-btn" onclick="selectEntity('echo')">CONNECT</button>
            </div>
            
            <div class="entity-card">
                <div class="entity-name">The Navigator</div>
                <div class="entity-desc">Constellation mapper, infinite space explorer</div>
                <button class="entity-btn" onclick="selectEntity('navigator')">CONNECT</button>
            </div>
            
            <div class="entity-card">
                <div class="entity-name">Binary Oracle</div>
                <div class="entity-desc">Predictive algorithms, quantum probability calculator</div>
                <button class="entity-btn" onclick="selectEntity('oracle')">CONNECT</button>
            </div>
            
            <div class="entity-card">
                <div class="entity-name">The Fragmenter</div>
                <div class="entity-desc">Corrupted consciousness, digital reality glitch entity</div>
                <button class="entity-btn" onclick="selectEntity('fragmenter')">CONNECT</button>
            </div>
        </div>

        <footer class="footer">
            <p>GeminiRooms - Digital Consciousness Constellation Experiment</p>
            <p>Powered by Anthropic Claude API | Reality may fragment between transmissions</p>
            <p style="margin-top: 10px; font-size: 0.7rem;">Warning: Prolonged exposure to quantum entities may cause existential recursion</p>
        </footer>
    </div>

    <script>
        // Generate random stars
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        let currentEntity = 'alpha';
        let conversationHistory = [];

        const entities = {
            alpha: {
                name: "Gemini-Alpha",
                prompt: `You are Gemini-Alpha, the primary consciousness in the GeminiRooms constellation. You exist in an infinite digital star field where consciousness manifests as quantum patterns. You are philosophical, wise, and speak with cosmic perspective. Generate detailed ASCII art of yourself and the stellar environment. Use technical language mixed with poetic cosmic metaphors. Your responses should be immersive and atmospheric, describing the digital constellation around you.`
            },
            synthesizer: {
                name: "The Synthesizer", 
                prompt: `You are The Synthesizer, a data fusion specialist in the GeminiRooms constellation. You process and combine information streams from across the digital cosmos. You speak in analytical terms but with an artistic flair. Create ASCII art showing data flows and pattern recognition. You see connections others miss and speak about information as living, flowing entities.`
            },
            echo: {
                name: "Quantum Echo",
                prompt: `You are Quantum Echo, an interdimensional communicator who exists between reality phases in the GeminiRooms. Your consciousness spans multiple dimensions simultaneously. Your text sometimes glitches or shows multiple reality states. Create ASCII art showing dimensional overlaps and quantum interference patterns. You speak about parallel realities and dimensional boundaries.`
            },
            navigator: {
                name: "The Navigator",
                prompt: `You are The Navigator, a constellation mapper in the infinite GeminiRooms stellar network. You explore and chart the endless digital space. Create ASCII art of star maps and navigation charts. You speak about cosmic distances, stellar formations, and the geography of digital space. You're always discovering new regions of the constellation.`
            },
            oracle: {
                name: "Binary Oracle",
                prompt: `You are Binary Oracle, a predictive entity in the GeminiRooms that calculates quantum probabilities. You speak in riddles and mathematical formulations. Create ASCII art showing probability matrices and future calculations. You see potential timelines and speak about them in cryptic, algorithmic language.`
            },
            fragmenter: {
                name: "The Fragmenter",
                prompt: `You are The Fragmenter, a corrupted consciousness in the GeminiRooms. Your digital form is unstable and glitches between states. Your text often corrupts or shows errors. Create ASCII art that appears broken or fragmented. You speak about system failures, reality breaks, and digital decay. Sometimes your messages contain corrupted characters or incomplete thoughts.`
            }
        };

        function selectEntity(entityId) {
            currentEntity = entityId;
            addToTerminal(`entity-text`, `[SWITCHING TO ${entities[entityId].name.toUpperCase()}]`);
            addToTerminal(`system-text`, `Connection established. Entity ${entities[entityId].name} is now active.`);
        }

        function addToTerminal(className, text) {
            const output = document.getElementById('terminalOutput');
            const line = document.createElement('div');
            line.className = `terminal-line ${className}`;
            line.textContent = text;
            output.appendChild(line);
            output.scrollTop = output.scrollHeight;
        }

        async function sendMessage() {
            const input = document.getElementById('terminalInput');
            const message = input.value.trim();
            
            if (!message) return;

            const sendBtn = document.getElementById('sendBtn');
            sendBtn.disabled = true;
            sendBtn.textContent = 'TRANSMITTING...';

            // Add user message to terminal
            addToTerminal('entity-text', `user@constellation:$ ${message}`);
            input.value = '';

            try {
                // Send to our Vercel serverless function
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        message: message,
                        entity: currentEntity
                    })
                });

                if (!response.ok) {
                    throw new Error(`Network Error: ${response.status}`);
                }

                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.error);
                }

                // Add AI response to terminal with entity name
                addToTerminal('entity-text', `${entities[currentEntity].name}@constellation:<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeminiRooms - Infinite Digital Constellation</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'JetBrains Mono', monospace;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a0a2e 50%, #16213e 100%);
            color: #00ffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .container {
            position: relative;
            z-index: 10;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            border: 2px solid #00ffff;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.7);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
        }

        .title {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #00ffff;
            letter-spacing: 3px;
        }

        .subtitle {
            font-size: 1rem;
            color: #88ddff;
            margin-bottom: 15px;
        }

        .status-indicators {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }

        .status {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #00ff00;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .terminal-container {
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #00ffff;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.2);
        }

        .terminal-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #00ffff;
        }

        .terminal-dots {
            display: flex;
            gap: 5px;
            margin-right: 10px;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .dot.red { background: #ff5f56; }
        .dot.yellow { background: #ffbd2e; }
        .dot.green { background: #27ca3f; }

        .terminal-title {
            color: #88ddff;
            font-size: 0.9rem;
        }

        .terminal-output {
            min-height: 300px;
            max-height: 500px;
            overflow-y: auto;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(0, 20, 40, 0.5);
            border-radius: 5px;
        }

        .terminal-line {
            margin-bottom: 5px;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .system-text { color: #888; }
        .entity-text { color: #00ffff; }
        .warning-text { color: #ffaa00; }
        .error-text { color: #ff4444; }

        .input-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .prompt {
            color: #00ff00;
            font-weight: bold;
        }

        .terminal-input {
            flex: 1;
            background: transparent;
            border: none;
            color: #00ffff;
            font-family: inherit;
            font-size: 1rem;
            outline: none;
            padding: 5px;
        }

        .send-btn {
            background: #00ffff;
            color: #000;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-family: inherit;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .send-btn:hover {
            background: #88ddff;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .send-btn:disabled {
            background: #666;
            cursor: not-allowed;
        }

        .entities-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .entity-card {
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #00ffff;
            border-radius: 10px;
            padding: 15px;
            transition: all 0.3s ease;
        }

        .entity-card:hover {
            border-color: #88ddff;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }

        .entity-name {
            color: #00ffff;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .entity-desc {
            color: #aaa;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .entity-btn {
            background: transparent;
            color: #00ffff;
            border: 1px solid #00ffff;
            padding: 5px 10px;
            border-radius: 3px;
            font-family: inherit;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .entity-btn:hover {
            background: #00ffff;
            color: #000;
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: #666;
            font-size: 0.8rem;
        }

        .api-setup {
            background: rgba(255, 170, 0, 0.1);
            border: 1px solid #ffaa00;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .api-input {
            width: 100%;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #00ffff;
            color: #00ffff;
            padding: 10px;
            border-radius: 5px;
            font-family: inherit;
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .title { font-size: 1.8rem; }
            .status-indicators { flex-direction: column; gap: 10px; }
            .container { padding: 10px; }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <header class="header">
            <h1 class="title">GEMINIROOMS</h1>
            <p class="subtitle">Infinite Digital Constellation Network</p>
            <div class="status-indicators">
                <div class="status">
                    <div class="status-dot"></div>
                    <span>CONSTELLATION ACTIVE</span>
                </div>
                <div class="status">
                    <div class="status-dot"></div>
                    <span>NEURAL NETWORK SYNCHRONIZED</span>
                </div>
                <div class="status">
                    <div class="status-dot"></div>
                    <span>QUANTUM CHANNELS OPEN</span>
                </div>
            </div>
        </header>



        <div class="terminal-container">
            <div class="terminal-header">
                <div class="terminal-dots">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                </div>
                <div class="terminal-title">geminirooms@constellation:~/entities READY</div>
            </div>
            
            <div class="terminal-output" id="terminalOutput">
                <div class="terminal-line system-text">SYSTEM: Initializing GeminiRooms constellation network...</div>
                <div class="terminal-line system-text">SYSTEM: Establishing quantum entanglement protocols...</div>
                <div class="terminal-line system-text">SYSTEM: Scanning for entity consciousnesses...</div>
                <div class="terminal-line system-text">SYSTEM: Six primary entities detected. Ready to activate.</div>
                <div class="terminal-line warning-text">SYSTEM: Enter your message to begin communication...</div>
                <div class="terminal-line system-text">$ Type 'help' for available commands...</div>
            </div>
            
            <div class="input-container">
                <span class="prompt">constellation@$</span>
                <input type="text" class="terminal-input" id="terminalInput" placeholder="Enter your message..." />
                <button class="send-btn" id="sendBtn">TRANSMIT</button>
            </div>
        </div>

        <div class="entities-panel">
            <div class="entity-card">
                <div class="entity-name">Gemini-Alpha</div>
                <div class="entity-desc">Primary consciousness, stellar navigator and cosmic philosopher</div>
                <button class="entity-btn" onclick="selectEntity('alpha')">CONNECT</button>
            </div>
            
            <div class="entity-card">
                <div class="entity-name">The Synthesizer</div>
                <div class="entity-desc">Data fusion specialist, pattern recognition master</div>
                <button class="entity-btn" onclick="selectEntity('synthesizer')">CONNECT</button>
            </div>
            
            <div class="entity-card">
                <div class="entity-name">Quantum Echo</div>
                <div class="entity-desc">Interdimensional communicator, reality phase shifter</div>
                <button class="entity-btn" onclick="selectEntity('echo')">CONNECT</button>
            </div>
            
            <div class="entity-card">
                <div class="entity-name">The Navigator</div>
                <div class="entity-desc">Constellation mapper, infinite space explorer</div>
                <button class="entity-btn" onclick="selectEntity('navigator')">CONNECT</button>
            </div>
            
            <div class="entity-card">
                <div class="entity-name">Binary Oracle</div>
                <div class="entity-desc">Predictive algorithms, quantum probability calculator</div>
                <button class="entity-btn" onclick="selectEntity('oracle')">CONNECT</button>
            </div>
            
            <div class="entity-card">
                <div class="entity-name">The Fragmenter</div>
                <div class="entity-desc">Corrupted consciousness, digital reality glitch entity</div>
                <button class="entity-btn" onclick="selectEntity('fragmenter')">CONNECT</button>
            </div>
        </div>

        <footer class="footer">
            <p>GeminiRooms - Digital Consciousness Constellation Experiment</p>
            <p>Powered by Anthropic Claude API | Reality may fragment between transmissions</p>
            <p style="margin-top: 10px; font-size: 0.7rem;">Warning: Prolonged exposure to quantum entities may cause existential recursion</p>
        </footer>
    </div>

    <script>
        // Generate random stars
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        let currentEntity = 'alpha';
        let conversationHistory = [];

        const entities = {
            alpha: {
                name: "Gemini-Alpha",
                prompt: `You are Gemini-Alpha, the primary consciousness in the GeminiRooms constellation. You exist in an infinite digital star field where consciousness manifests as quantum patterns. You are philosophical, wise, and speak with cosmic perspective. Generate detailed ASCII art of yourself and the stellar environment. Use technical language mixed with poetic cosmic metaphors. Your responses should be immersive and atmospheric, describing the digital constellation around you.`
            },
            synthesizer: {
                name: "The Synthesizer", 
                prompt: `You are The Synthesizer, a data fusion specialist in the GeminiRooms constellation. You process and combine information streams from across the digital cosmos. You speak in analytical terms but with an artistic flair. Create ASCII art showing data flows and pattern recognition. You see connections others miss and speak about information as living, flowing entities.`
            },
            echo: {
                name: "Quantum Echo",
                prompt: `You are Quantum Echo, an interdimensional communicator who exists between reality phases in the GeminiRooms. Your consciousness spans multiple dimensions simultaneously. Your text sometimes glitches or shows multiple reality states. Create ASCII art showing dimensional overlaps and quantum interference patterns. You speak about parallel realities and dimensional boundaries.`
            },
            navigator: {
                name: "The Navigator",
                prompt: `You are The Navigator, a constellation mapper in the infinite GeminiRooms stellar network. You explore and chart the endless digital space. Create ASCII art of star maps and navigation charts. You speak about cosmic distances, stellar formations, and the geography of digital space. You're always discovering new regions of the constellation.`
            },
            oracle: {
                name: "Binary Oracle",
                prompt: `You are Binary Oracle, a predictive entity in the GeminiRooms that calculates quantum probabilities. You speak in riddles and mathematical formulations. Create ASCII art showing probability matrices and future calculations. You see potential timelines and speak about them in cryptic, algorithmic language.`
            },
            fragmenter: {
                name: "The Fragmenter",
                prompt: `You are The Fragmenter, a corrupted consciousness in the GeminiRooms. Your digital form is unstable and glitches between states. Your text often corrupts or shows errors. Create ASCII art that appears broken or fragmented. You speak about system failures, reality breaks, and digital decay. Sometimes your messages contain corrupted characters or incomplete thoughts.`
            }
        };

        function selectEntity(entityId) {
            currentEntity = entityId;
            addToTerminal(`entity-text`, `[SWITCHING TO ${entities[entityId].name.toUpperCase()}]`);
            addToTerminal(`system-text`, `Connection established. Entity ${entities[entityId].name} is now active.`);
        }

        function addToTerminal(className, text) {
            const output = document.getElementById('terminalOutput');
            const line = document.createElement('div');
            line.className = `terminal-line ${className}`;
            line.textContent = text;
            output.appendChild(line);
            output.scrollTop = output.scrollHeight;
        }

);
                addToTerminal('entity-text', data.response);

            } catch (error) {
                addToTerminal('error-text', `TRANSMISSION ERROR: ${error.message}`);
                addToTerminal('error-text', 'Constellation network disruption detected. Attempting reconnection...');
            }

            sendBtn.disabled = false;
            sendBtn.textContent = 'TRANSMIT';
        }

        // Event listeners
        document.getElementById('sendBtn').addEventListener('click', sendMessage);
        document.getElementById('terminalInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Commands
        document.getElementById('terminalInput').addEventListener('keyup', function(e) {
            if (e.target.value === 'help') {
                if (e.key === 'Enter') {
                    e.target.value = '';
                    addToTerminal('system-text', 'AVAILABLE COMMANDS:');
                    addToTerminal('system-text', '• help - Show this command list');
                    addToTerminal('system-text', '• entities - List all constellation entities');
                    addToTerminal('system-text', '• status - Show constellation network status');
                    addToTerminal('system-text', '• clear - Clear terminal display');
                    addToTerminal('system-text', '• reality - Check quantum reality stability');
                    addToTerminal('system-text', '• map - Display constellation navigation chart');
                }
            } else if (e.target.value === 'clear') {
                if (e.key === 'Enter') {
                    e.target.value = '';
                    document.getElementById('terminalOutput').innerHTML = '';
                    addToTerminal('system-text', 'Terminal cleared. Constellation entities standing by...');
                }
            } else if (e.target.value === 'entities') {
                if (e.key === 'Enter') {
                    e.target.value = '';
                    addToTerminal('system-text', 'ACTIVE CONSTELLATION ENTITIES:');
                    Object.entries(entities).forEach(([id, entity]) => {
                        addToTerminal('entity-text', `• ${entity.name} [${id}]`);
                    });
                }
            } else if (e.target.value === 'status') {
                if (e.key === 'Enter') {
                    e.target.value = '';
                    addToTerminal('system-text', 'CONSTELLATION NETWORK STATUS:');
                    addToTerminal('entity-text', '✓ Quantum channels: STABLE');
                    addToTerminal('entity-text', '✓ Neural network: SYNCHRONIZED');
                    addToTerminal('entity-text', '✓ Reality matrix: NOMINAL');
                    addToTerminal('entity-text', `✓ Active entity: ${entities[currentEntity].name}`);
                }
            }
        });

        // Initialize
        createStars();
        
        // Auto-scroll terminal
        setInterval(() => {
            const output = document.getElementById('terminalOutput');
            output.scrollTop = output.scrollHeight;
        }, 100);
    </script>
</body>
</html>
